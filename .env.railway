# Railway Environment Variables Template for Outline
# Copy these to your Railway project's environment variables

# Core Configuration (Required)
NODE_ENV=production
URL=https://your-app-name.up.railway.app
# Railway automatically provides PORT, don't set it manually
SECRET_KEY=generate_with_openssl_rand_hex_32
UTILS_SECRET=generate_with_openssl_rand_hex_32
FORCE_HTTPS=true

# Database (Railway provides these automatically)
DATABASE_URL=${{DATABASE_URL}}
DATABASE_CONNECTION_POOL_MIN=2
DATABASE_CONNECTION_POOL_MAX=10
PGSSLMODE=require

# Redis (Railway provides this automatically)
REDIS_URL=${{REDIS_URL}}

# Choose at least one authentication provider:

# Google OAuth
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# Slack OAuth
# SLACK_CLIENT_ID=your-slack-client-id
# SLACK_CLIENT_SECRET=your-slack-client-secret

# Microsoft/Azure AD
# AZURE_CLIENT_ID=your-azure-client-id
# AZURE_CLIENT_SECRET=your-azure-client-secret
# AZURE_RESOURCE_APP_ID=your-azure-resource-app-id

# Discord OAuth
# DISCORD_CLIENT_ID=your-discord-client-id
# DISCORD_CLIENT_SECRET=your-discord-client-secret
# DISCORD_SERVER_ID=your-discord-server-id

# Email Configuration with Resend
SMTP_SERVICE=resend
SMTP_HOST=smtp.resend.com
SMTP_PORT=465
SMTP_USERNAME=resend
SMTP_PASSWORD=your-resend-api-key
SMTP_FROM_EMAIL=notifications@yourdomain.com
SMTP_REPLY_EMAIL=support@yourdomain.com
SMTP_SECURE=true

# File Storage Configuration

# Option A: Railway Volume (Recommended for simplicity)
FILE_STORAGE=local
FILE_STORAGE_LOCAL_ROOT_DIR=/var/lib/outline/data

# Option B: MinIO S3-Compatible Storage (Uncomment if using MinIO)
# FILE_STORAGE=s3
# AWS_ACCESS_KEY_ID=${{MINIO_ROOT_USER}}
# AWS_SECRET_ACCESS_KEY=${{MINIO_ROOT_PASSWORD}}
# AWS_REGION=us-west1
# AWS_S3_UPLOAD_BUCKET_NAME=outline-uploads
# AWS_S3_UPLOAD_BUCKET_URL=https://your-app-name.up.railway.app/storage
# AWS_S3_UPLOAD_MAX_SIZE=26214400
# AWS_S3_FORCE_PATH_STYLE=true
# AWS_S3_ACL=private
# AWS_ENDPOINT_URL=http://minio.railway.internal:9000

# Optional Features
# SENTRY_DSN=your-sentry-dsn
RATE_LIMITER_ENABLED=true
RATE_LIMITER_REQUESTS=1000
RATE_LIMITER_DURATION_WINDOW=60
COLLABORATION_URL=wss://your-app-name.up.railway.app
DEBUG=false

# Default Team Settings (optional)
# DEFAULT_LANGUAGE=en_US
# ENABLE_UPDATES=true
# WEB_CONCURRENCY=1
# LOG_LEVEL=info